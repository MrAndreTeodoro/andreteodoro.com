<!-- Combined Sidebar (Icons + Profile Card) -->
<aside class="fixed left-0 top-0 min-h-full h-screen bg-eggwhite border-r-2 border-black flex z-40" style="max-width: 300px;">
  <!-- Icon Navigation Column -->
  <div class="w-16 flex flex-col items-center py-3 space-y-3">
    <!-- Home Icon -->
    <%= link_to root_path, class: "text-black hover:bg-eggwhite-dark border-2 border-transparent" do %>
	    <!-- Avatar -->
      <div class="w-12 h-12 bg-black flex items-center justify-center text-eggwhite text-lg font-bold flex-shrink-0 border-2 border-black">
        AT
      </div>
    <% end %>

    <!-- Sports Icon -->
    <%= link_to sports_path, class: "p-3 #{controller_name == 'sports' ? 'bg-black text-eggwhite border-2 border-black' : 'text-black hover:bg-eggwhite-dark border-2 border-transparent'}" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
      </svg>
    <% end %>

    <!-- Projects Icon -->
    <%= link_to projects_path, class: "p-3 #{controller_name == 'projects' ? 'bg-black text-eggwhite border-2 border-black' : 'text-black hover:bg-eggwhite-dark border-2 border-transparent'}" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
      </svg>
    <% end %>

    <!-- Books Icon -->
    <%= link_to books_path, class: "p-3 #{controller_name == 'books' ? 'bg-black text-eggwhite border-2 border-black' : 'text-black hover:bg-eggwhite-dark border-2 border-transparent'}" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
      </svg>
    <% end %>

    <!-- Blog Icon -->
    <%= link_to blog_path, class: "p-3 #{controller_name == 'blog_posts' ? 'bg-black text-eggwhite border-2 border-black' : 'text-black hover:bg-eggwhite-dark border-2 border-transparent'}" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
      </svg>
    <% end %>

    <!-- Microphone Icon (Talks) -->
    <button class="p-3 text-black hover:bg-eggwhite-dark border-2 border-transparent">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
      </svg>
    </button>

    <!-- Music Icon -->
    <button class="p-3 text-black hover:bg-eggwhite-dark border-2 border-transparent">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" />
      </svg>
    </button>

    <!-- Gear Icon -->
    <%= link_to gear_index_path, class: "p-3 #{controller_name == 'gear_items' ? 'bg-black text-eggwhite border-2 border-black' : 'text-black hover:bg-eggwhite-dark border-2 border-transparent'}" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
      </svg>
    <% end %>

    <!-- Spacer -->
    <div class="flex-1"></div>

    <!-- Settings Icon -->
    <button class="p-3 text-black hover:bg-eggwhite-dark border-2 border-transparent">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
    </button>

    <!-- Dark Mode Toggle -->
    <button class="p-3 bg-black text-eggwhite hover:bg-gray-800 border-2 border-black">
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
      </svg>
    </button>
  </div>

  <!-- Profile Card Column -->
  <div class="bg-eggwhite flex-1 overflow-y-auto border-l-2 border-black">
    <!-- Profile Card -->
    <div class="border-b-2 border-black p-4">
	    <!-- Avatar -->
	    <div class="flex items-center mb-3">
	      <div class="flex-1 min-w-0">
	        <h2 class="text-base font-bold text-black truncate">Andre Teodoro</h2>
	        <!-- Social Links -->
	        <div class="flex space-x-1.5 mt-1">
	          <% if @sidebar_social_links.present? %>
	            <% @sidebar_social_links.first(4).each do |link| %>
	              <a href="<%= link.url %>" target="_blank" rel="noopener noreferrer" class="text-black hover:opacity-60">
	                <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 24 24">
	                  <% case link.platform %>
	                  <% when 'twitter' %>
	                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
	                  <% when 'github' %>
	                    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" />
	                  <% when 'youtube' %>
	                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
	                  <% else %>
	                    <path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
	                  <% end %>
	                </svg>
	              </a>
	            <% end %>
	          <% end %>
	        </div>
	      </div>
	    </div>
      <!-- Bio -->
      <p class="text-black text-xs mb-3 leading-relaxed">
        Building products, teach others how to ship, and share everything I learn along the way.
      </p>

      <p class="text-black text-xs mb-3 font-semibold">
        Based in the cloud, shipping to the world.
      </p>

      <!-- Stats -->
      <div class="flex justify-between text-center border-t-2 border-black pt-3">
        <% if @sidebar_social_links.present? %>
          <% @sidebar_social_links.first(3).each do |link| %>
            <div>
              <div class="flex items-center justify-center space-x-1">
                <svg class="w-3 h-3 text-black" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
                </svg>
                <p class="text-xs font-semibold text-black"><%= link.formatted_follower_count %></p>
              </div>
              <p class="text-xs text-black mt-0.5"><%= link.platform.titleize %></p>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>

    <!-- Upcoming Talks/Events -->
    <div class="border-b-2 border-black p-4">
      <h3 class="text-xs font-bold text-black mb-2 uppercase tracking-wide">Upcoming Events</h3>
      <% if @sidebar_upcoming_events.present? && @sidebar_upcoming_events.any? %>
        <div class="space-y-2">
          <% @sidebar_upcoming_events.each do |event| %>
            <div class="border-l-4 border-black pl-2 bg-eggwhite-dark">
              <div class="flex items-start gap-1 mb-1">
                <span class="text-xs">
                  <%= event.sport_emoji %>
                </span>
                <p class="text-black font-bold text-xs flex-1"><%= event.title %></p>
              </div>
              <p class="text-xs text-black flex items-center">
                <span class="mr-1">üìç</span> <%= event.location %>
              </p>
              <p class="text-xs text-black mt-0.5 font-semibold">
                <%= event.date.strftime("%b %d, %Y") %>
              </p>
            </div>
          <% end %>
        </div>
      <% else %>
        <p class="text-black text-xs">No upcoming events</p>
      <% end %>
    </div>

    <!-- Startups Section -->
    <div class="border-b-2 border-black p-4">
      <h3 class="text-xs font-bold text-black mb-2 uppercase tracking-wide">Startups</h3>
      <% if @sidebar_featured_projects.present? && @sidebar_featured_projects.any? %>
        <div class="space-y-1.5">
          <% @sidebar_featured_projects.each do |project| %>
            <% if project.has_url? %>
              <a href="<%= project.url %>" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 text-black hover:underline py-0.5 group">
                <span class="text-xs">üöÄ</span>
                <span class="text-xs font-bold"><%= project.name %></span>
              </a>
            <% else %>
              <div class="flex items-center space-x-2 text-black py-0.5">
                <span class="text-xs">üöÄ</span>
                <span class="text-xs font-bold"><%= project.name %></span>
              </div>
            <% end %>
          <% end %>
        </div>
      <% else %>
        <p class="text-black text-xs">No startups yet</p>
      <% end %>
    </div>

    <!-- Side Projects Section -->
    <div class="border-b-2 border-black p-4">
      <h3 class="text-xs font-bold text-black mb-2 uppercase tracking-wide">Side Projects</h3>
      <% if @sidebar_side_projects.present? && @sidebar_side_projects.any? %>
        <div class="space-y-1.5">
          <% @sidebar_side_projects.first(10).each do |project| %>
            <% if project.has_url? %>
              <a href="<%= project.url %>" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 text-black hover:underline py-0.5 group">
                <span class="text-xs">üí°</span>
                <span class="text-xs font-semibold"><%= project.name %></span>
              </a>
            <% else %>
              <div class="flex items-center space-x-2 text-black py-0.5">
                <span class="text-xs">üí°</span>
                <span class="text-xs font-semibold"><%= project.name %></span>
              </div>
            <% end %>
          <% end %>
        </div>
      <% else %>
        <p class="text-black text-xs">No side projects yet</p>
      <% end %>
    </div>

    <!-- Recent Blog Posts -->
    <div class="border-b-2 border-black p-4">
      <h3 class="text-xs font-bold text-black mb-2 uppercase tracking-wide">Recent Posts</h3>
      <% if @sidebar_recent_posts.present? && @sidebar_recent_posts.any? %>
        <div class="space-y-2">
          <% @sidebar_recent_posts.first(3).each do |post| %>
            <%= link_to blog_post_path(post.slug), class: "block group" do %>
              <h4 class="text-xs font-bold text-black group-hover:underline line-clamp-2"><%= post.title %></h4>
              <p class="text-xs text-black mt-0.5"><%= post.formatted_published_date %></p>
            <% end %>
          <% end %>
        </div>
      <% else %>
        <p class="text-black text-xs">No posts yet</p>
      <% end %>
    </div>

    <!-- Action Buttons -->
    <div class="space-y-2 p-4">
      <button class="w-full bg-black text-eggwhite border-2 border-black py-2 px-3 text-xs font-bold hover:bg-gray-800 flex items-center justify-center space-x-1.5">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
        <span>Meet</span>
      </button>

      <%= link_to gear_index_path, class: "w-full bg-eggwhite border-2 border-black text-black py-2 px-3 text-xs font-bold hover:bg-eggwhite-dark flex items-center justify-center space-x-1.5" do %>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
        </svg>
        <span>Merch</span>
      <% end %>
    </div>
  </div>
</aside>
