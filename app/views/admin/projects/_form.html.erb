<%= form_with(model: [:admin, @project], class: "space-y-6") do |f| %>
  <!-- Error Messages -->
  <% if @project.errors.any? %>
    <div class="rounded-md bg-red-50 p-4 border border-red-200">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg
            class="h-5 w-5 text-red-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
        </div>

        <div class="ml-3">
          <h3 class="text-sm font-medium text-red-800">
            <%= pluralize(@project.errors.count, "error") %> prohibited this
            project from being saved:
          </h3>

          <div class="mt-2 text-sm text-red-700">
            <ul class="list-disc pl-5 space-y-1">
              <% @project.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
    </div>
  <% end %>

  <!-- Basic Information Section -->
  <div class="bg-white rounded-lg shadow border border-gray-200 p-6">
    <h3 class="text-lg font-medium text-gray-900 mb-4">Basic Information</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Name -->
      <div class="md:col-span-2">
        <%= f.label :name, "Project Name", class: "block text-sm font-medium text-gray-700 mb-2" %>

        <%= f.text_field :name,
          placeholder: "e.g., My SaaS App, E-commerce Platform, AI Experiment",
          class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 #{@project.errors[:name].any? ? 'border-red-300' : ''}",
          required: true %>

        <% if @project.errors[:name].any? %>
          <p class="mt-1 text-sm text-red-600">
            <%= @project.errors[:name].first %>
          </p>
        <% end %>
      </div>

      <!-- Project Type -->
      <div>
        <%= f.label :project_type, "Project Type", class: "block text-sm font-medium text-gray-700 mb-2" %>

        <%= f.select :project_type,
          [
            ['Startup', 'startup'],
            ['Side Project', 'side_project'],
            ['Experiment', 'experiment']
          ],
          { include_blank: 'Select a type' },
          {
            class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 #{@project.errors[:project_type].any? ? 'border-red-300' : ''}",
            required: true
          } %>

        <% if @project.errors[:project_type].any? %>
          <p class="mt-1 text-sm text-red-600">
            <%= @project.errors[:project_type].first %>
          </p>
        <% else %>
          <p class="mt-1 text-xs text-gray-500">
            Categorize your project by type
          </p>
        <% end %>
      </div>

      <!-- Status -->
      <div>
        <%= f.label :status, "Status", class: "block text-sm font-medium text-gray-700 mb-2" %>

        <%= f.select :status,
          [
            ['Active', 'active'],
            ['In Development', 'in_development'],
            ['Archived', 'archived']
          ],
          {},
          {
            class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"
          } %>

        <p class="mt-1 text-xs text-gray-500">
          Current status of the project
        </p>
      </div>

      <!-- URL -->
      <div>
        <%= f.label :url, "Project URL", class: "block text-sm font-medium text-gray-700 mb-2" %>

        <%= f.url_field :url,
          placeholder: "https://yourproject.com",
          class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 #{@project.errors[:url].any? ? 'border-red-300' : ''}" %>

        <% if @project.errors[:url].any? %>
          <p class="mt-1 text-sm text-red-600">
            <%= @project.errors[:url].first %>
          </p>
        <% else %>
          <p class="mt-1 text-xs text-gray-500">
            Optional: Live URL of your project
          </p>
        <% end %>
      </div>

      <!-- Logo URL -->
      <div>
        <%= f.label :logo_url, "Logo URL", class: "block text-sm font-medium text-gray-700 mb-2" %>

        <%= f.url_field :logo_url,
          placeholder: "https://example.com/logo.png",
          class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" %>

        <p class="mt-1 text-xs text-gray-500">
          Optional: Direct link to project logo
        </p>
      </div>

      <!-- Position -->
      <div>
        <%= f.label :position, "Display Position", class: "block text-sm font-medium text-gray-700 mb-2" %>

        <%= f.number_field :position,
          min: 0,
          class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 #{@project.errors[:position].any? ? 'border-red-300' : ''}" %>

        <% if @project.errors[:position].any? %>
          <p class="mt-1 text-sm text-red-600">
            <%= @project.errors[:position].first %>
          </p>
        <% else %>
          <p class="mt-1 text-xs text-gray-500">
            Lower numbers appear first (0 = auto-assign)
          </p>
        <% end %>
      </div>

      <!-- Featured -->
      <div class="flex items-center h-full">
        <div class="flex items-start pt-6">
          <div class="flex items-center h-5">
            <%= f.check_box :featured,
              class: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" %>
          </div>

          <div class="ml-3">
            <%= f.label :featured, class: "font-medium text-gray-700" do %>
              <span class="flex items-center">
                Featured Project
                <svg
                  class="w-4 h-4 ml-1 text-yellow-500"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
              </span>
            <% end %>

            <p class="text-sm text-gray-500">
              Display this project prominently on your site
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Description Section -->
  <div class="bg-white rounded-lg shadow border border-gray-200 p-6">
    <h3 class="text-lg font-medium text-gray-900 mb-4">Description</h3>

    <div>
      <%= f.label :description, "Project Description", class: "block text-sm font-medium text-gray-700 mb-2" %>

      <%= f.rich_text_area :description,
        placeholder: "Describe what this project does, its key features, and what problems it solves. Share your motivation for building it and any interesting challenges you faced." %>

      <p class="mt-1 text-xs text-gray-500">
        Optional: Detailed description that will be displayed on your portfolio
      </p>
    </div>
  </div>

  <!-- Tech Stack Section -->
  <div class="bg-white rounded-lg shadow border border-gray-200 p-6">
    <h3 class="text-lg font-medium text-gray-900 mb-4">
      Technology Stack
      <span class="text-sm font-normal text-gray-500">(Optional)</span>
    </h3>

    <div>
      <%= f.label :tech_stack, "Technologies Used", class: "block text-sm font-medium text-gray-700 mb-2" %>

      <%= f.text_area :tech_stack,
        rows: 4,
        placeholder: 'Enter technologies as JSON array, e.g., ["Ruby on Rails", "PostgreSQL", "React", "Tailwind CSS"] or comma-separated: Rails, PostgreSQL, React',
        class: "w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 font-mono text-sm" %>

      <p class="mt-1 text-xs text-gray-500">
        List the technologies, frameworks, and tools used in this project
      </p>

      <div
        class="
          mt-2 text-xs text-gray-600 bg-gray-50 rounded-md p-3 border
          border-gray-200
        "
      >
        <strong>Format options:</strong>

        <ul class="list-disc pl-5 mt-1 space-y-1">
          <li>
            JSON array:
            <code class="bg-white px-1 rounded">["Rails", "PostgreSQL", "React"]</code>
          </li>

          <li>
            Comma-separated:
            <code class="bg-white px-1 rounded">Rails, PostgreSQL, React</code>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Form Actions -->
  <div class="flex items-center justify-end gap-4 pt-6 border-t border-gray-200">
    <%= link_to "Cancel", admin_projects_path, class: "px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors" %>

    <%= f.submit (@project.new_record? ? "Create Project" : "Update Project"), class: "px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors" %>
  </div>
<% end %>
