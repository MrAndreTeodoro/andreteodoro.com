<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <!-- Back Button -->
  <div class="mb-8">
    <%= link_to projects_path, class: "inline-flex items-center text-black hover:underline font-bold" do %>
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
      </svg>
      Back to Projects
    <% end %>
  </div>

  <!-- Project Header -->
  <div class="mb-12 border-b-2 border-black pb-6">
    <div class="flex items-start justify-between mb-4">
      <div class="flex-1">
        <div class="flex items-center gap-3 mb-4">
          <span class="px-2 py-1 bg-black text-eggwhite text-xs font-bold uppercase border-2 border-black">
            <%= @project.project_type_display_name %>
          </span>

          <span class="px-2 py-1 text-xs font-bold border-2 border-black <%= @project.active? ? 'bg-green-300 text-black' : @project.in_development? ? 'bg-yellow-300 text-black' : 'bg-eggwhite-dark text-black' %>">
            <%= @project.status_display_name %>
          </span>

          <% if @project.featured %>
            <span class="px-2 py-1 bg-yellow-300 text-black text-xs font-bold uppercase border-2 border-black">
              ⭐ Featured
            </span>
          <% end %>
        </div>

        <h1 class="text-5xl md:text-6xl font-bold text-black mb-4">
          <%= @project.name %>
        </h1>
      </div>

      <% if @project.has_logo? %>
        <div class="ml-8 border-2 border-black p-4 bg-eggwhite">
          <img src="<%= @project.logo_url %>" alt="<%= @project.name %> logo" class="w-24 h-24 object-contain">
        </div>
      <% end %>
    </div>

    <% if @project.has_url? %>
      <a
        href="<%= @project.url %>"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center text-black hover:underline font-bold text-lg border-2 border-black px-4 py-2 bg-eggwhite hover:bg-black hover:text-eggwhite"
      >
        Visit Project →
      </a>
    <% end %>
  </div>

  <!-- Main Content Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16">
    <!-- Main Column -->
    <div class="lg:col-span-2 space-y-8">
      <!-- Description -->
      <section>
        <h2 class="text-3xl font-bold text-black mb-6 border-b-2 border-black pb-3">
          About This Project
        </h2>

        <% if @project.description.present? %>
          <div class="bg-eggwhite border-2 border-black p-6 prose prose-lg max-w-none text-black">
            <%= @project.description %>
          </div>
        <% else %>
          <div class="bg-eggwhite border-2 border-black p-8 text-center">
            <p class="text-black font-semibold">No description available yet.</p>
          </div>
        <% end %>
      </section>

      <!-- Tech Stack -->
      <% if @project.tech_stack_array.any? %>
        <section>
          <h2 class="text-3xl font-bold text-black mb-6 border-b-2 border-black pb-3">
            Tech Stack
          </h2>

          <div class="bg-eggwhite border-2 border-black p-6">
            <div class="flex flex-wrap gap-3">
              <% @project.tech_stack_array.each do |tech| %>
                <span class="px-4 py-2 bg-black text-eggwhite text-sm font-bold border-2 border-black">
                  <%= tech %>
                </span>
              <% end %>
            </div>
          </div>
        </section>
      <% end %>
    </div>

    <!-- Sidebar -->
    <div class="space-y-8">
      <!-- Project Info -->
      <section>
        <h3 class="text-2xl font-bold text-black mb-4 border-b-2 border-black pb-2">
          Project Info
        </h3>

        <div class="bg-eggwhite border-2 border-black p-4 space-y-4">
          <!-- Type -->
          <div class="border-b-2 border-black pb-3">
            <p class="text-xs font-bold text-black uppercase mb-1">Type</p>
            <p class="text-black font-semibold"><%= @project.project_type_display_name %></p>
          </div>

          <!-- Status -->
          <div class="border-b-2 border-black pb-3">
            <p class="text-xs font-bold text-black uppercase mb-1">Status</p>
            <p class="text-black font-semibold"><%= @project.status_display_name %></p>
          </div>

          <!-- URL -->
          <% if @project.has_url? %>
            <div class="border-b-2 border-black pb-3">
              <p class="text-xs font-bold text-black uppercase mb-1">Website</p>
              <a
                href="<%= @project.url %>"
                target="_blank"
                rel="noopener noreferrer"
                class="text-black hover:underline font-semibold break-all"
              >
                <%= @project.url_host %>
              </a>
            </div>
          <% end %>

          <!-- Created -->
          <div>
            <p class="text-xs font-bold text-black uppercase mb-1">Added</p>
            <p class="text-black font-semibold"><%= @project.created_at.strftime("%B %Y") %></p>
          </div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section>
        <h3 class="text-2xl font-bold text-black mb-4 border-b-2 border-black pb-2">
          Quick Actions
        </h3>

        <div class="space-y-3">
          <% if @project.has_url? %>
            <a
              href="<%= @project.url %>"
              target="_blank"
              rel="noopener noreferrer"
              class="block w-full bg-black text-eggwhite border-2 border-black py-3 px-4 text-center font-bold hover:bg-gray-800"
            >
              Visit Website →
            </a>
          <% end %>

          <%= link_to projects_path, class: "block w-full bg-eggwhite text-black border-2 border-black py-3 px-4 text-center font-bold hover:bg-eggwhite-dark" do %>
            View All Projects
          <% end %>
        </div>
      </section>
    </div>
  </div>

  <!-- Related Projects -->
  <% if @related_projects.any? %>
    <section class="mt-16">
      <h2 class="text-3xl font-bold text-black mb-8 border-b-2 border-black pb-3">
        More <%= @project.project_type_display_name %> Projects
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <% @related_projects.each do |project| %>
          <%= link_to project_path(project), class: "block bg-eggwhite border-2 border-black p-6 hover:bg-eggwhite-dark" do %>
            <div class="flex items-start justify-between mb-3">
              <h3 class="text-xl font-bold text-black flex-1">
                <%= project.name %>
              </h3>

              <span class="px-2 py-1 text-xs font-bold border-2 border-black <%= project.active? ? 'bg-green-300 text-black' : project.in_development? ? 'bg-yellow-300 text-black' : 'bg-eggwhite-dark text-black' %>">
                <%= project.status_display_name %>
              </span>
            </div>

            <% if project.description.present? %>
              <p class="text-black text-sm mb-4 font-semibold">
                <%= project.short_description(100) %>
              </p>
            <% end %>

            <% if project.tech_stack_array.any? %>
              <div class="flex flex-wrap gap-2">
                <% project.tech_stack_array.first(3).each do |tech| %>
                  <span class="px-2 py-1 bg-black text-eggwhite text-xs font-bold border-2 border-black">
                    <%= tech %>
                  </span>
                <% end %>
                <% if project.tech_stack_array.size > 3 %>
                  <span class="px-2 py-1 bg-eggwhite-dark text-black text-xs font-bold border-2 border-black">
                    +<%= project.tech_stack_array.size - 3 %>
                  </span>
                <% end %>
              </div>
            <% end %>
          <% end %>
        <% end %>
      </div>
    </section>
  <% end %>
</div>
